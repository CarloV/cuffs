require=function r(e,t,n){function u(i,f){if(!t[i]){if(!e[i]){var s=typeof require=="function"&&require;if(!f&&s)return s(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var p=t[i]={exports:{}};e[i][0].call(p.exports,function(r){var t=e[i][1][r];return u(t?t:r)},p,p.exports,r,e,t,n)}return t[i].exports}var o=typeof require=="function"&&require;for(var i=0;i<n.length;i++)u(n[i]);return u}({1:[function(r,e,t){(function(){var r;t.MultiArrayExplorer=r=function(){t.displayName="MultiArrayExplorer";var r=t.prototype,e=t;function t(r,e){this.arr=r!=null?r:[];this.index=e!=null?e:[]}r.up=function(r){r==null&&(r=0);this.index=this.index.concat([r]);return this};r.down=function(){this.index=this.index.slice(0,-1);if(this.index.length===0){throw new Error("Can't go further down in the structure")}return this};r.left=function(){var r;(r=this.index)[r.length-1]-=1;return this};r.right=function(){var r;(r=this.index)[r.length-1]+=1;return this};r.get=function(){var r,e,t,n,u;r=this.arr;for(e=0,n=(t=this.index).length;e<n;++e){u=t[e];r=r[u];if(r==null){return}}return r};r.set=function(r){var e,t,n,u,o;e=this.arr;for(t=0,u=(n=this.index.slice(0,-1)).length;t<u;++t){o=n[t];e=e[o]}e[(n=this.index)[n.length-1]]=r;return this};r.wrap=function(){var r,e,t,n,u;r=this.arr;for(e=0,n=(t=this.index.slice(0,-1)).length;e<n;++e){u=t[e];r=r[u]}r[(t=this.index)[t.length-1]]=[r[(t=this.index)[t.length-1]]];return this};r.prop=function(r,e){var t,n,u,o,i;t=this.arr;for(n=0,o=(u=this.index).length;n<o;++n){i=u[n];t=t[i]}if(e!=null){t[r]=e;return this}else{if(t!=null){return t[r]}else{return t}}};r.parentProp=function(r,e){var t,n,u,o,i;t=this.arr;for(n=0,o=(u=this.index.slice(0,-1)).length;n<o;++n){i=u[n];t=t[i]}if(e!=null){t[r]=e;return this}else{if(t!=null){return t[r]}else{return t}}};r.getInheritedProp=function(r){var e,t,n,u,o,i;e=this.arr;t=null;for(n=0,o=(u=this.index).length;n<o;++n){i=u[n];if(e!=null&&e[r]!=null){t=e[r]}e=e[i]}if(e!=null&&e[r]!=null){t=e[r]}return t};r.getInheritedParentProp=function(r){var e,t,n,u,o,i;e=this.arr;t=null;for(n=0,o=(u=this.index.slice(0,-1)).length;n<o;++n){i=u[n];if(e!=null&&e[r]!=null){t=e[r]}e=e[i]}if(e!=null&&e[r]!=null){t=e[r]}return t};return t}()}).call(this)},{}],2:[function(r,e,t){"use strict";if(typeof Proxy==="undefined")throw new Error("Native proxies not enabled. use `node --harmony-proxies` to enable them.");e.exports=typeof Proxy.create!=="function"?Proxy:u;var n=Proxy;function u(r,e){var t={getOwnPropertyDescriptor:function(t){if(e.getOwnPropertyDescriptor)return e.getOwnPropertyDescriptor(r,t);var n=Object.getOwnPropertyDescriptor(r,t);if(n!==undefined){n.configurable=true}return n},getPropertyDescriptor:function(e){var t=r;var n;do{n=Object.getOwnPropertyDescriptor(t,e)}while(n===undefined&&(t=Object.getPrototypeOf(t)));if(n!==undefined){n.configurable=true}return n},getOwnPropertyNames:function(t){if(e.getOwnPropertyNames)return e.getOwnPropertyNames(r,t);return Object.getOwnPropertyNames(r)},getPropertyNames:function(){var e=[];var t=r;do{e=e.concat(Object.getOwnPropertyNames(t))}while((t=Object.getPrototypeOf(t))&&t!==Object.prototype);return e},defineProperty:function(t,n){if(e.defineProperty)return e.defineProperty(r,t,n);return Object.defineProperty(r,t,n)},"delete":function(t){if(e.deleteProperty)return e.deleteProperty(r,t);return delete r[t]}};if(e.has)t.has=function(t){return e.has(r,t)};if(e.hasOwn)t.hasOwn=function(t){return e.hasOwn(r,t)};if(e.get)t.get=function(t,n){return e.get(r,n,t)};if(e.set)t.set=function(t,n,u){return e.set(r,n,u,t)};if(e.enumerate)t.enumerate=function(){return e.enumerate(r)};if(e.keys)t.keys=function(){return e.keys(r)};if(typeof r!=="function")return n.create(t,Object.getPrototypeOf(r));return n.createFunction(t,function(){if(e.apply)return e.apply(r,this,Array.prototype.slice.call(arguments));return r.apply(this,Array.prototype.slice.call(arguments))},e.construct&&function(){return e.construct(r,Array.prototype.slice.call(arguments))})}},{}],cuffs:[function(r,e,t){(function(){var t,n,u,o,i,f,s,l,p,a={}.toString,c=[].slice;t=r("./multi-array-explorer").MultiArrayExplorer;n=function(r){return r};u="0.0.1";o=function(r){var e,t;if(!(r!=null&&r.constructor!=null)){return a.call(r).slice(8,-1)}if(e=r.constructor.name){return e}else if(r.constructor.toString!=null){t=r.constructor.toString().match(/^function\s*(\w+)\(/);if(t&&t.length===2){return t[1]}}return a.call(r).slice(8,-1)};i={Integer:function(r){return function(e){if(o(e)==="Number"&&Math.floor(e)===e){return e}else{return r("Not an Integer")}}},NaN:function(r){return function(e){if(isNaN(e)){return e}else{return r("Not a Not a Number")}}},Truthy:function(r){return function(e){if(!!e){return e}else{return r("Not Truthy")}}},Untruthy:function(r){return function(e){if(!e){return e}else{return r("Not Untruthy")}}},Existent:function(r){return function(e){if(e!=null){return e}else{return r("Not Existent")}}},Inexistent:function(r){return function(e){if(e==null){return e}else{return r("Not Inexistent")}}},"*":function(r){return function(r){return r}},All:function(r){return function(r){return r}},"!Number":function(r){return function(e){if(!isNaN(e)){return+e}else{return r("Not a !Number")}}},"!String":function(r){return function(r){return""+r}},"!Integer":function(r){return function(e){if(!isNaN(e)){return Math.round(+e)}else{return r("Not an !Integer")}}},"!Boolean":function(r){return function(r){return!!r}},"!Date":function(r){return function(r){return new Date(+r||r)}}};f={Maybe:function(r,e){return function(t){var n;try{return i.Inexistent(e)(t)}catch(u){n=u;return r(t)}}},Not:function(r,e){return function(t){var n,u;try{n=r(t)}catch(o){u=o;return t}return e("Not Not")}}};s=function(r,e,t){return function(){var n,u,i,f,l,p,a;try{n=e.apply(this,arguments)}catch(c){u=c.message;i=u;f=false}try{l=t.apply(this,arguments)}catch(c){u=c.message;p=u;a=false}if(f===false&&a===false){throw new Error(i+" And "+p)}else if(f===false&&a!==false){return l}else if(a===false&&f!==false){return n}else if(o(n)==="Function"&&o(l)==="Function"){return s(r,n,l)}else{return n||l}}};l=function(r,e,t){return function(){return t(e.apply(this,arguments))}};p=function(e){var p,a,m,v,x,b,P,N,E,O,j,A,k,T,S,C,I,D,F,M,q,U,_;p=e!=null?e:{},a=(m=p.customTypes)!=null?m:{},v=(m=p.useProxies)!=null?m:false,x=p.onError;b={};P=i;N=Proxy;E=function(e){v=e;if(v&&typeof window==="undefined"){N=r("harmony-proxy")}if(v&&typeof N==="undefined"){v=false}return v};E(v);O=function(r){if(r==="array"){return"["}else if(r==="object"){return"{"}else{return"("}};j=function(r,e,t){t==null&&(t=["parenthesis","tuple","object","array"]);r.down();r.prop("closePos",e);if(h(r.prop("type"),t)){throw new Error("Cuffs Syntax Error - Unclosed "+O(r.prop("type"))+" tag")}};A=y(function(r,e,t,n){throw new Error("Cuffs Error - "+n+" - From position "+e+" to position "+t+" of "+r)});k=function(r){var e,t;e={};for(t in r){n.call(this,t,r[t])}return e;function n(r,t){var n;switch(o(t)){case"String":n=S(T(t),A(t));e[r]=function(r){return n};break;case"Function":if(t.length===2){e[r]=function(r){return function(e){return t(r,e)}}}else{e[r]=t}break;case"Boolean":case"Null":if(!t){e[r]=null}break;default:throw new Error("Cuffs Parse Error - Can't parse the custom type "+r)}}};T=function(r){var e,n,u,i,f,s,l;e="normal";n=[];n.type="parenthesis";n.mode="normal";u=new t(n,[0]);i=0;f=r.length;s=function(r,e,t){var n,f,l,p,a;switch(o(e)){case"String":if(!r.indexOf(e)){if(false!==t(u,i)){return r.slice(e.length)}}break;case"RegExp":if(!r.search(e)){n=r.match(e);if(false!==t(u,n,i)){return r.slice(n[0].length)}}break;case"Array":for(f=0,l=e.length;f<l;++f){p=e[f];a=s(r,p,g.apply(this,[t,[void 8,p,void 8],[0,2]]));if(a!==false){return a}}break;default:throw new Error("Cuffs Parse Error - Mode key '"+r.toString()+"' of type "+o(r)+" is not supported")}return false};l=function(r){var e,t,n,o,i,f,l;e=b[u.getInheritedParentProp("mode")];for(t=0,n=e.length;t<n;++t){o=e[t],i=o[0],f=o[1];l=s(r,i,f);if(l!==false){return l}}};while(r.length){i=f-r.length;r=l(r)}if(u.index.length===0){throw new Error("Cuffs Syntax Error - You closed too many parentheses")}while(u.index.length>1){j(u,f-1)}return u.arr};S=function(r,e){var t,u,f,p,a,g,d,w,m,x,b,E,O,j,A,k,T,C,I,D,F,M,q,U,_,$,B,L,R,K,Y,z;t=e(r.pos||0,r.closePos||r.pos||0);u=function(r){switch(o(r)){case"Array":return S(r,e);case"Function":return r(t);default:return i.Inexistent(t)}};switch(r.type){case"parenthesis":if(r.length===0){return function(r){if(o(r==="Array")&&r.length===0){return r}else{return t("Not an empty Tuple")}}}return u(r[0]);case"array":f=u(r[0]);p=function(r){var e,n,u,o=[];if(!(r instanceof Array)){t("Not an Array")}for(e=0,u=r.length;e<u;++e){n=r[e];o.push(f(n))}return o};if(!v){return p}return function(r){var e;e=p(r);return new N(e,{set:function(r,e,t,n){if(isNaN(e)||+e<0||+e%1!==0){r[e]=t;return true}r[e]=f(t);return true}})};case"object":a={};g=[];d=u(i["*"]);w=false;for(m=0,x=r.length;m<x;++m){b=r[m];if(o(b)==="String"){G.call(this,b);continue}switch(b.type){case"property":H.call(this,b[0],b[1]);break;case"object-type":d=u(b[0]);break;case"ellipsis":if(b.length===0){w=n}else{w=u(b[0])}}}p=function(r){var e,n,u,o;e=d(r);for(n in u=a){o=u[n];e[n]=o(r[n])}if(w!==false){for(n in r){if(!h(n,g)){e[n]=w(r[n])}}}else{for(n in r){if(!h(n,g)){t("Didn't expect the key "+n+" inside the object")}}}return e};if(!v){return p}return function(r){var e;e=p(r);return new N(e,{set:function(r,e,n,u){var o;if((o=a[e])!=null){r[e]=o(n)}else if(w!==false){r[e]=w(n)}else{t("Key can't be inside this object")}return true},deleteProperty:function(r,e){var t,n;if((t=a[e])!=null){n=t(void 8);if((t=n)!=null){r[e]=t}else{delete r[e]}}else{delete r[e]}return true}})};case"tuple":p=function(e){var n,o,i,f=[];if(!(e instanceof Array)){t("Not an Array")}if(e.length!==r.length){t("Tuple length doesn't match")}for(n=0,o=e.length;n<o;++n){i=n;f.push(u(r[i])(e[i]))}return f};if(!v){return p}return function(e){var n;n=p(e);return new N(n,{set:function(e,n,o,i){if(n==="length"){if(o!==r.length){t("Tuple length doesn't match")}e[n]=o;return true}if(isNaN(n)||+n<0||+n%1!==0){e[n]=o;return true}e[n]=u(r[n])(o);return true},deleteProperty:function(e,t){if(isNaN(t)||+t<0||+t%1!==0){delete e[t];return true}e[t]=u(r[t])(void 8);return true}})};case"argument-tuple":if(r.length===0){return function(r){if(o(r)==="Array"&&r.length===0){return r}else{return t("Arguments should be an empty tuple")}}}else{E=function(){var e,t,n,u=[];for(e=0,n=(t=r).length;e<n;++e){b=t[e];if(b!=null&&b.type==="ellipsis"){u.push(b)}}return u}().length;if(E===0){return function(e){var n,o,i,f=[];if(e.length!==r.length){t("Argument Tuple length doesn't match")}for(n=0,o=r.length;n<o;++n){i=n;f.push(u(r[i])(e[i]))}return f}}else if(E===1){O=0;j=[];A=[];for(m=0,k=r.length;m<k;++m){T=m;b=r[T];if(b!=null&&b.type==="ellipsis"){O=T;break}j.push(u(b))}for(m=O+1,k=r.length;m<k;++m){T=m;b=r[T];A.push(u(b))}if(r[O].length===0){C=u(i["*"])}else{C=u(r[O][0])}return function(e){var n,u,o,i,f,s,l;if(e.length<r.length-1){t("Argument tuple length doesn't match")}u=[];for(o=0,i=O;o<i;++o){f=o;u.push(j[f](e[f]))}n=u;u=[];for(o=0,i=r.length-O-1;o<i;++o){f=o;u.push(A[f](e[f+e.length-r.length+O+1]))}s=u;u=[];for(o=O,i=e.length-r.length+O+1;o<i;++o){f=o;u.push(C(e[f]))}l=u;return n.concat(l,s)}}else{throw new Error("An argument tuple can only hold at most one ellipsis")}}break;case"arrow":I=[];if(r[0]!=null&&((D=r[0].type)==="tuple"||D==="parenthesis")){I=r[0]}else if(r[0]!=null){I=[r[0]]}F=u(r[1]);M=function(r,e){return function(){var t;t=c.call(arguments);t=e(t);return F(r.apply(this,t))}};switch(r.arrowType){case"-->":case"!-->":if(I.length>1){I.type="tuple";q=I.length;_=[];for(m=0,k=I.length;m<k;++m){T=m;_.push(u(I[T]))}U=_;$=function(r){return function(e){if(o(e)!=="Function"){t("Not a Function")}return function(){var n,u,o,i,f,s=this;n=c.call(arguments);if(n.length===0){for(u=0,o=q;u<o;++u){i=u;U[i](r[i])}return F(e.apply(this))}else{f=r.concat(n);if(f.length>q){t("Incorrect arity of curried arrow, received #{params.length} arguments and should be #{arity} arguments")}for(u=0,o=f.length;u<o;++u){i=u;U[i](f[i])}if(f.length<q){return function(){return $(f)(e.apply(s,n)).apply(s,arguments)}}else{return F(e.apply(this,n))}}}}};if(r.arrowType==="-->"){return $([])}else{return function(r){return $([])(y(r))}}break}default:I.type="argument-tuple";f=u(I);return function(r){if(o(r)!=="Function"){t("Not a Function")}return M(r,f)}}break;case"or":return s(t,u(r[0]),u(r[1]));case"and":return l(t,u(r[0]),u(r[1]));case"modifier":if(r.length===1){r[1]=i["*"]}return r[0](u(r[1]),t);case"literal":if(r.length===0){throw new Error("Can't process empty literals")}b=r[0];if((B=P[b])!=null){return u(B)}else{for(L in D=P){R=D[L];if(B=/^\/([\s\S]*)\/([gimy]*)$/.exec(L)){K=new RegExp(B[1],B[2]);if(Y=K.exec(b)){z=R(Y);return u(z.length===2?J:z)}}}return function(r){var e;if(o(r)===b){return r}else{return t("Not a"+((e=b.toLowerCase())==="a"||e==="e"||e==="o"||e==="u"||e==="i"?"n":"")+" "+b)}}}break;case"string":case"number":return function(e){if(e===r[0]){return e}else{return t("The "+r.type+" "+e+" is unequal to "+r[0])}};default:throw new Error("Can't parse type "+r.type+" in this context")}function G(r){g.push(r);a[r]=u(i.Existent)}function H(r,e){g.push(r);if(e==null){a[r]=u(i.Existent)}else{a[r]=u(e)}}function J(r){return function(e){return z(r,e)}}};C=y(function(r,e,t){if(b[r]==null){b[r]=[]}return b[r].push([e,t])});I=C("normal");I("(",function(r,e){return r.set([]).prop("type","parenthesis").prop("pos",e).up()});I(")",function(r,e){var t;do{j(r,e+1,["array","object"])}while((t=r.prop("type"))!=="parenthesis"&&t!=="tuple");return true});I("[",function(r,e){return r.set([]).prop("type","array").prop("pos",e).up()});I("]",function(r,e){do{j(r,e+1,["parenthesis","tuple","object"])}while(r.prop("type")!=="array");return true});I("{",function(r,e){if(r.get()!=null){return r.wrap().prop("type","object").prop("mode","object").prop("pos",e).up().wrap().prop("type","object-type").right()}else{return r.set([]).prop("type","object").prop("mode","object").prop("pos",e).up()}});I("}",function(r,e){do{j(r,e+1,["parenthesis","tuple","array"])}while(r.prop("type")!=="object");return true});I("<",function(r,e){return r.set([]).prop("type","literal").prop("mode","literal").prop("pos",e).up()});I(",",function(r,e){var t;while((t=r.parentProp("type"))!=="parenthesis"&&t!=="object"&&t!=="tuple"){j(r,e)}if(r.parentProp("type")==="parenthesis"){r.parentProp("type","tuple")}return r.right()});I(/(?:\!?\-)?\->/,function(r,e,t){var n;while((n=r.parentProp("type"))==="modifier"||n==="and"||n==="or"){j(r,t)}return r.wrap().prop("type","arrow").prop("arrowType",e[0]).prop("pos",t).up().right()});I("|",function(r,e){while(r.parentProp("type")==="modifier"){j(r,e)}return r.wrap().prop("type","or").prop("pos",e).up().right()});I("&",function(r,e){while(r.parentProp("type")==="modifier"){j(r,e)}return r.wrap().prop("type","and").prop("pos",e).up().right()});I('"',function(r,e){return r.set([]).prop("type","string").prop("mode","string").prop("stringType",'"').prop("pos",e).up()});I("'",function(r,e){return r.set([]).prop("type","string").prop("mode","string").prop("stringType","'").prop("pos",e).up()});I(/\d+(?:\,\d+)?|\-?Infinity/,function(r,e,t){return r.set([+e[0]]).prop("type","number").prop("pos",t).prop("closePos",t+e[0].length)});I("...",function(r,e){return r.set([]).prop("type","ellipsis").prop("pos",e).up()});I(function(){var r=[];for(D in f){r.push(D)}return r}(),function(r,e,t){return r.set([]).prop("type","modifier").prop("pos",t).up().set(f[e]).right()});I("*",function(r,e){return r.set(["*"]).prop("type","literal").prop("pos",e).prop("closePos",e+1)});I(/[!\?$_\w]+\b/,function(r,e,t){return r.set([e[0]]).prop("type","literal").prop("pos",t).prop("closePos",t+e[0].length)});I(/#\w+\b/,function(r){return r});I(/\/\*[\w\"!\?$_\'\s\r\n\*]*\*\//,function(r){return r});I(/[\s\S]/,function(r){return r});F=C("object");F(/\\(\:|\}|\,|\.\.\.)/,function(r,e){return r.set((r.get()||"")+e[1])});F(":",function(r,e){return r.wrap().prop("type","property").prop("mode","normal").prop("pos",e).up().right()});F("}",function(r,e){return j(r,e+1,["parenthesis","tuple","array"])});F(",",function(r){return r.right()});F("...",function(r,e){return r.set([]).prop("type","ellipsis").prop("mode","normal").prop("pos",e).up()});F(/[\r\n\t\s]/,function(r){return r});F(/[\s\S]/,function(r,e){return r.set((r.get()||"")+e[0])});M=C("string");M('\\"',function(r){return r.set((r.get()||"")+'"')});M("\\'",function(r){return r.set((r.get()||"")+"'")});M("'",function(r,e){if("'"===r.parentProp("stringType")){return j(r,e+1)}else{return false}});M('"',function(r,e){if('"'===r.parentProp("stringType")){return j(r,e+1)}else{return false}});M(/[\s\S]/,function(r,e){return r.set((r.get()||"")+e[0])});q=C("literal");q("\\>",function(r){return r.set((r.get()||"")+">")});q(">",function(r,e){return j(r,e+1)});q(/[\s\S]/,function(r,e){return r.set((r.get()||"")+e[0])});U=function(r){var e,t,n,u=[];if(o(r)==="Array"){for(e=0,t=r.length;e<t;++e){n=r[e];u.push(P=d(w(P),k(n)))}return u}else{return P=d(w(P),k(r))}};U(a);_=function(r){var e,t,n;if(o(r)!=="String"){throw new Error("Cuffs Error - Cuffs requires the first argument to be a string")}e=A(r);t=T(r);n=S(t,e);if(arguments.length===1){return n}else{return n(arguments[1])}};_.version=u;_.modifyTypes=U;_.useProxies=E;return _};p.version=u;e.exports=p;function h(r,e){var t=-1,n=e.length>>>0;while(++t<n)if(r===e[t])return true;return false}function y(r,e){var t,n=function(u){return r.length>1?function(){var o=u?u.concat():[];t=e?t||this:this;return o.push.apply(o,arguments)<r.length&&arguments.length?n.call(t,o):r.apply(t,o)}:r};return n()}function g(r,e,t){var n=this;return function(){var u=c.call(arguments),o,i=u.length,f=t.length,s=e?e.concat():[],l=t?t.concat():[];for(o=0;o<i;++o){s[l[0]]=u[o];l.shift()}return i<f&&i?g.apply(n,[r,s,l]):r.apply(n,s)}}function d(r,e){var t={}.hasOwnProperty;for(var n in e)if(t.call(e,n))r[n]=e[n];return r}function w(r){function e(){}e.prototype=r;return new e}}).call(this)},{"./multi-array-explorer":1,"harmony-proxy":2}]},{},[]);
